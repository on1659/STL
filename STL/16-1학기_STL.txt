//----------------------------------------------------------Fri Mar 04 15:29:34 2016//----------------------------------------------------------//----------------------------------------------------------
// STL 수9,10 금 6,7
// '16.03.04 Fir
// 
// 강의내용을 필요시 마다 저장할 수 있도록 Save() 함수를 만들자 
// 관련내용 - chrono, time, file I/O, 소스 파일 분리
//----------------------------------------------------------

#include "stdafx.h"


using namespace std;

/*
  저장하는 시간과 날짜를 기록한다.
  이 프로젝트의 소스 파일을 하드디스크에 저장한다.
  앞에 저장한 내요엥 덧붙여 계속 저장한다.
*/
void TimeSave()
{
	// 현재 시간 기록
	// 현재 시간지점을 기록한다.
	auto tp = chrono::system_clock::now();
	// 시간지점을 time_t 형식으로 바꾼다.
	auto t = chrono::system_clock::to_time_t(tp);
	// 날짜로 변환한다.
	string date(ctime(&t)); 
	//마지막 Null Size 제거
	date.resize(date.length() -  1); 

	//이 프로젝트의 소스파일을 하드에 저장
	//앞에 저장한 내요엥 덧붙여 계속 저장한다.

	//읽을 파일을 연다.
	ifstream in("파일분리.cpp");
	
	//쓸 파일을 연다. app = apeend mode
 	ofstream out("16-1학기_STL.txt", ios::app);

	//읽을 파일의 모든 내용을 읽어 쓸 파일에 기록한다.
	out << "//----------------------------------------------------------"; //장식을 기록한다.
	out << date;														   //날짜를 기록한다.
	out << "//----------------------------------------------------------"; //장식을 기록한다.

	//읽을 파일의 모든 내용을 읽어 쓸 파일에 기록한다.
	char c;
	while (in.get(c))
	{
		out.put(c);
	}

}

int main()
{
	TimeSave();
}

/*
  컴퓨터에서 시간을 재는 방법은 1970년대부터 클럭이 몇번 돌았는지를 가지고 씀

*/